<% if builds.present? %>
  <%= render AllBuildsTableComponent.new(
    builds: builds,
    paginator: pagy,
    query_params: all_builds_params) do |component|
    component.with_filter do %>
      <%= render FilterButtonComponent.new(
        name: "Completed",
        on: filters.dig(:release_status, :is_on),
        path: search_builds_app_path(app),
        method: :get,
        filter_params: get_query_filter(:release_status),
        query_params: all_builds_params) %>
    <% end %>
  <% end %>
<% else %>
  <%= render EmptyStateComponent.new(
    title: "No builds found",
    text: "Try a different search term or filter, or create a new release to generate builds.",
    banner_image: "drill.svg",
    type: :subdued) %>
<% end %>
